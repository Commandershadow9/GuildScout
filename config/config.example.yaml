# GuildScout Bot Configuration
# Copy this file to config.yaml and fill in your values

discord:
  # Your Discord Bot Token from https://discord.com/developers/applications
  token: "YOUR_BOT_TOKEN_HERE"

  # Your Discord Server (Guild) ID
  # Enable Developer Mode in Discord, right-click your server, Copy ID
  guild_id: 123456789012345678

health_check:
  # Port for the health check HTTP server
  port: 8765

scoring:
  # Scoring weights (must sum to 1.0)
  weights:
    days_in_server: 0.1      # 10% - Membership duration (Loyalty)
    message_count: 0.55      # 55% - Chat Activity
    voice_activity: 0.35     # 35% - Voice Activity

  # Minimum messages required to be included in ranking
  min_messages: 10

  # Maximum days to look back for activity (null = all time)
  max_days_lookback: null    # e.g., 365 for last year only

analytics:
  # Cache TTL in seconds (how long to cache message counts)
  cache_ttl: 3600            # 1 hour

  # Exclude these channel IDs from message counting
  excluded_channels: []      # e.g., [123456789, 987654321]

  # Exclude these channel names (partial match)
  excluded_channel_names:
    - "nsfw"
    - "bot-spam"

permissions:
  # Role IDs that can use admin commands like /analyze
  admin_roles:
    - 1391813795113996408   # Admin role ID

  # User IDs that can use admin commands (overrides role requirement)
  admin_users: []            # e.g., [123456789012345678]

export:
  # Maximum users to show in Discord embed
  max_users_per_embed: 25

  # CSV export settings
  csv_delimiter: ","
  csv_encoding: "utf-8-sig"  # Works well with Excel

guild_management:
  # Maximum guild spots available
  max_spots: 50              # Total number of guild spots you have

  # Guild role ID to assign to selected users
  guild_role_id: 1438703780362321991  # The actual guild role to assign

  # Dashboard channel ID where dashboard and rankings are posted (auto-filled)
  dashboard_channel_id: null

  # Status channel ID for errors and warnings (optional, recommended)
  status_channel_id: null

  ranking_channel_message_id: null
  ranking_channel_message_version: 0

  # Roles that indicate user already has a spot (exclude from ranking)
  exclusion_roles:           # Users with these roles are NOT ranked
    - 1438703780362321991    # Guild role (users who already have it)
    - 1434664835760783531    # Leader role (3 current leaders)
    # Add more role IDs here if needed

  # Individual user IDs to exclude (manual reservations)
  exclusion_users: []        # e.g., [123456789, 987654321]

raid_management:
  # Enable raid feature
  enabled: true

  # Channel where raid announcements are posted
  post_channel_id: null

  # Optional: channel where raid creation is allowed (null = anywhere)
  manage_channel_id: null

  # Optional: channel where raid info/start message lives
  info_channel_id: null

  # Optional: stored message ID for the raid info/start message
  info_message_id: null

  # Optional: stored message ID for the raid history embed
  history_message_id: null

  # Optional: role ID assigned to raid participants
  participant_role_id: null

  # Optional: log channel for raid summaries
  log_channel_id: null

  # Roles allowed to create raids (admins always allowed)
  creator_roles:
    - 1434664835760783531    # Cloudwalker Lead

  # Default timezone for raid scheduling
  timezone: "Europe/Berlin"

  # Reminder offsets before start time (hours)
  reminder_hours: [24, 1]

  # DM reminder offsets before start time (minutes)
  dm_reminder_minutes: [15]

  # Auto-close raids at start time
  auto_close_at_start: true

  # Safety auto-close after start time (hours)
  auto_close_after_hours: 12

  # Minutes before start to request confirmations
  confirmation_minutes: 15

  # Minutes before start to remind unconfirmed participants
  confirmation_reminder_minutes: 5

  # Cooldown before sending another "slots frei" ping
  open_slot_ping_minutes: 30

logging:
  # Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"

  # Log file path (relative to project root)
  file: "logs/guildscout.log"

  # Log format
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"

  # Optional ping/mention on critical errors (e.g. "@here" or "<@&role_id>")
  alert_ping: null

  # Dashboard update settings
  dashboard_update_interval_seconds: 300  # Update at least every 5 minutes
  dashboard_idle_gap_seconds: 120         # Update after 2 minutes of inactivity

verification:
  enable_daily: true              # tägliche Stichprobe aktivieren/deaktivieren
  daily_sample_size: 25           # Anzahl zufälliger User (>=10 Nachrichten)
  daily_hour_utc: 3               # UTC-Stunde für den Lauf
  daily_minute: 0                 # UTC-Minute

  enable_weekly: true             # wöchentliche Tiefenprüfung
  weekly_sample_size: 150         # größere Stichprobe
  weekly_weekday: 0               # 0 = Montag … 6 = Sonntag
  weekly_hour_utc: 4              # UTC-Stunde
  weekly_minute: 30               # UTC-Minute
